*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #000000;
  --panel: #080808;
  --panel2: #0f0f0f;
  --border: rgba(255,255,255,0.08);
  --border2: rgba(255,255,255,0.14);
  --accent: #00e5ff;
  --accent2: #0090ff;
  --green: #00ff99;
  --warning: #ff9500;
  --danger: #ff3355;
  --text: #ffffff;
  --text2: #aaaaaa;
  --text3: #555555;
  --glow-accent: 0 0 12px rgba(0,229,255,0.3);
  --glow-green: 0 0 12px rgba(0,255,153,0.3);
  --glow-warning: 0 0 12px rgba(255,149,0,0.3);
  --glow-danger: 0 0 14px rgba(255,51,85,0.4);
}

html, body, #root {
  width: 100%; height: 100%; overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
}

/* ── Scrollbar ── */
::-webkit-scrollbar { width: 3px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 2px; }

/* ── Animations ── */
@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(0.8); }
}
@keyframes ping-ring {
  0% { transform: scale(1); opacity: 0.7; }
  100% { transform: scale(2.5); opacity: 0; }
}
@keyframes sweep-in {
  from { opacity: 0; transform: translateX(16px); }
  to   { opacity: 1; transform: translateX(0); }
}
@keyframes fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}
@keyframes slide-up {
  from { opacity: 0; transform: translateY(24px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

.animate-sweep-in { animation: sweep-in 0.25s ease forwards; }
.animate-fade-in  { animation: fade-in 0.2s ease forwards; }
.animate-slide-up { animation: slide-up 0.35s cubic-bezier(0.16,1,0.3,1) forwards; }
.animate-spin     { animation: spin 1s linear infinite; }
.animate-blink    { animation: blink 1.2s ease-in-out infinite; }

/* ── Ship markers ── */
.ship-marker {
  position: relative;
  width: 8px; height: 8px;
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.15s;
}
.ship-marker:hover { transform: scale(1.8); }
.ship-marker.active   { background: var(--accent); }
.ship-marker.dark     { background: #333; opacity: 0.5; }
.ship-marker.suspicious { background: var(--danger); }

.ship-marker .ping {
  position: absolute; inset: -4px;
  border-radius: 50%;
  border: 1px solid currentColor;
  animation: ping-ring 1.8s ease-out infinite;
}
.ship-marker.suspicious .ping { color: var(--danger); }
.ship-marker.active .ping { color: var(--accent); animation-duration: 3.5s; }

/* ── Incident marker ── */
.incident-marker {
  width: 10px; height: 10px;
  border-radius: 50%;
  background: var(--warning);
  cursor: pointer;
  animation: pulse-dot 1.5s ease-in-out infinite;
}
.incident-marker.high { background: var(--danger); }

/* ── Visibility helpers (applied always, overridden in media query) ────────── */
.map-mobile-only   { display: none; }
.incident-mobile-bar { display: none; }
.incident-panel-inner { display: flex; flex-direction: column; flex: 1; overflow: hidden; }
/* transparent on desktop so it doesn't affect flex layout */
.mobile-hidden { display: contents; }
.mobile-panel-btn { display: none; }

/* ── Mobile Responsive (≤ 768px) ─────────────────────────────────────────── */
@media (max-width: 768px) {
  /* Visibility helpers */
  .mobile-hidden     { display: none !important; }
  .map-desktop-only  { display: none !important; }
  .map-mobile-only   { display: block; }

  /* Dashboard — header: slightly taller, wraps */
  .dash-header {
    height: auto !important;
    min-height: 80px;
    flex-wrap: wrap;
    padding: 12px 14px !important;
    gap: 10px;
  }
  .dash-header-stats { display: none !important; }
  .dash-header-right {
    width: 100%;
    flex-wrap: wrap;
    justify-content: flex-start !important;
    gap: 8px !important;
  }
  .dash-header-divider { display: none !important; }

  /* Dashboard — body: map fills full screen, panel is an overlay */
  .dash-body { flex-direction: column !important; }
  .dash-map-wrap { flex: 1 !important; min-height: 0; }
  /* Incident panel — full-screen slide-in overlay on mobile */
  .incident-panel {
    position: fixed !important;
    top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important;
    z-index: 200;
    transform: translateX(100%);
    transition: transform 0.28s cubic-bezier(0.16, 1, 0.3, 1);
    width: 100% !important;
    border: none !important;
    flex: none !important;
  }
  .incident-panel:not(.mobile-collapsed) { transform: translateX(0) !important; }
  .incident-panel.mobile-collapsed .incident-panel-inner { display: flex !important; }

  /* Dashboard — MMSI search: input flex-grows, investigate right-aligned */
  .mmsi-search-wrap { flex: 1; min-width: 0; display: flex; align-items: center; }
  .mmsi-search-wrap input { width: auto !important; flex: 1 !important; min-width: 60px; font-size: 11px !important; padding: 5px 8px !important; }
  .mmsi-search-wrap .investigate-btn { flex: none !important; padding: 6px 12px !important; }

  /* Landing — nav */
  .land-nav { padding: 0 16px !important; }
  .land-nav-links { display: none !important; }

  /* Landing — hero */
  .land-hero-inner { padding: 80px 20px 40px !important; }

  /* Landing — stats bar: 2×2 grid */
  .land-stats-bar {
    display: grid !important;
    grid-template-columns: 1fr 1fr;
  }
  .land-stat-cell {
    border-left: none !important;
    border-top: 1px solid rgba(255,255,255,0.08);
    padding: 20px !important;
  }
  .land-stat-cell:nth-child(even) {
    border-left: 1px solid rgba(255,255,255,0.08) !important;
  }

  /* Landing — sections */
  .land-section { padding: 56px 20px !important; }
  .land-section-dark-inner { padding: 56px 20px !important; }
  .land-cta { padding: 72px 20px !important; }

  /* Landing — risk zones table → stacked list */
  .land-table-head { display: none !important; }
  .land-table-row {
    display: flex !important;
    flex-direction: column;
    gap: 6px;
    padding: 20px 0;
  }

  /* Landing — footer */
  .land-footer {
    flex-direction: column !important;
    gap: 10px;
    text-align: center;
    padding: 24px 20px !important;
  }

  /* Report modal */
  .report-intel-grid { grid-template-columns: 1fr !important; }
  .report-evidence-grid { grid-template-columns: 1fr !important; }
  .report-header-meters { display: none !important; }

}
